{"version":3,"file":"umd.js","sources":["../src/index.ts"],"sourcesContent":["export type Falsy = null | undefined | false | 0 | '';\n\nexport type F<T, R, U = Falsy> = (res: Exclude<T, U>) => R;\nexport type ELF<T, R, U = Falsy> = (res: Extract<T, U>) => R;\n\ntype FP<T, R> = [f?: F<T, R>, elf?: ELF<T, R>];\n\ntype FT<T, R> = (...args: FP<T, R>) => R | undefined;\n\ntype IfConst<U = Falsy> = {\n  <T>(value: T): {\n    <R>(f: F<T, R, U>): R | undefined\n    <R>(f: F<T, R, U>, elf: ELF<T, R, U>): R;\n  }\n  <T, R>(value: T, f: F<T, R, U>): R | undefined;\n  <T, R>(value: T, f: F<T, R, U>, elf: ELF<T, R, U>): R;\n  <T, R>(value: T, f?: F<T, R, U>, elf?: ELF<T, R, U>): R | undefined;\n}\n\ntype Comparator = (val: any) => boolean;\n\ntype CompThis = { check: Comparator };\n\nconst defaultComp: Comparator = (val: any) => !!val;\n\nfunction _ifConst<T, R>(this: CompThis, cond: T, ...args: FP<T, R>): FT<T, R> | R | undefined {\n  return args[0]\n    ? (this.check(cond) ? args[0] : args[1])?.(cond as any)\n    : _ifConst.bind(this, cond as unknown) as FT<T, R>;\n}\n\nexport const ifConst: IfConst & {\n  compare<U>(comparator: Comparator): IfConst<U>;\n  not<U>(value: U): IfConst<U>;\n} = _ifConst.bind({ check: defaultComp }) as any;\n\nifConst.compare = <U>(c: Comparator): IfConst<U> => {\n  return _ifConst.bind({ check: c }) as any;\n}\nifConst.not = <U>(value: U): IfConst<U> => {\n  return _ifConst.bind({ check: (_: U) => _ !== value }) as any;\n}\n\nexport default ifConst;\n\nexport function constIf<T, R>(f: F<T, R>): (cond: T) => R | undefined;\nexport function constIf<T, R>(f: F<T, R>, elf: ELF<T, R>): (cond: T) => R;\nexport function constIf<T, R>(f: F<T, R>, elf?: ELF<T, R>): (cond: T) => R | undefined;\nexport function constIf<T, R>(f: F<T, R>, elf?: ELF<T, R>): (cond: T) => R | undefined {\n  return cond => ifConst(cond, f, elf);\n}\n"],"names":["_ifConst","cond","this","check","_ref","bind","ifConst","val","compare","c","not","value","_","f","elf"],"mappings":"mPAyBA,SAASA,EAA+BC,mEAEjCC,KAAKC,MAAMF,uGAAZG,EAAyCH,GACzCD,EAASK,KAAKH,KAAMD,OAGbK,EAGTN,EAASK,KAAK,CAAEF,MAXY,SAACI,WAAeA,KAahDD,EAAQE,QAAU,SAAIC,UACbT,EAASK,KAAK,CAAEF,MAAOM,KAEhCH,EAAQI,IAAM,SAAIC,UACTX,EAASK,KAAK,CAAEF,MAAO,SAACS,UAASA,IAAMD,yBAQlBE,EAAYC,UACjC,SAAAb,UAAQK,EAAQL,EAAMY,EAAGC"}